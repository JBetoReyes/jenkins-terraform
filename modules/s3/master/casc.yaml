credentials:
  system:
    domainCredentials:
      - credentials:
        # Another option passing via a file via ${readFile:/path/to/file}
        - basicSSHUserPrivateKey:
            scope: GLOBAL
            id: ssh_provided_via_file
            username: jenkins
            description: "SSH with private key file. Private key provided"
            privateKeySource:
              directEntry:
                privateKey: "${readFile:/var/jenkins_home/id_rsa}" # Path to file loaded from Environment Variable
jenkins:
  numExecutors: 0
  securityRealm:
    local:
      allowsSignup: false
      users:
       - id: ${JENKINS_ADMIN_ID}
         password: ${JENKINS_ADMIN_PASSWORD}
  nodes:
    - permanent:
        labelString: "docker agent"
        mode: NORMAL
        name: "docker agent"
        numExecutors: 2
        remoteFS: "/home/jenkins/jenkins_slave"
        launcher:
          SSHLauncher:
            host: ${NODE_ONE_IP}
            port: 22
            credentialsId: ssh_provided_via_file
            launchTimeoutSeconds: 60
            maxNumRetries: 3
            retryWaitTime: 30
            sshHostKeyVerificationStrategy:
              manuallyTrustedKeyVerificationStrategy:
                requireInitialManualTrust: false
    - permanent:
        labelString: "docker agent"
        mode: NORMAL
        name: "docker agent"
        numExecutors: 2
        remoteFS: "/home/jenkins/jenkins_slave"
        launcher:
          SSHLauncher:
            host: ${NODE_TWO_IP}
            port: 22
            credentialsId: ssh_provided_via_file
            launchTimeoutSeconds: 60
            maxNumRetries: 3
            retryWaitTime: 30
            sshHostKeyVerificationStrategy:
              manuallyTrustedKeyVerificationStrategy:
                requireInitialManualTrust: false
unclassified:
  location:
    url: http://${JENKINS_IP}:8080/